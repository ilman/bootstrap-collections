<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<meta name="description" content="">
		<meta name="author" content="">

		<title></title>

		<!-- Bootstrap core CSS -->
		<link href="../../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="../../bower_components/font-awesome/css/font-awesome.css" rel="stylesheet">

		<!-- Custom styles for this template -->
		<link href="assets/css/file-manager.css" rel="stylesheet">

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="container">
			<div class="form-group">
				<label>Select File</label>
				<input type="text" class="form-group" />
				<button class="btn btn-default btn-select-file">Select File</button>
			</div>

			<div class="form-group">
				<label>Select File</label>
				<input type="text" class="form-group" />
				<button class="btn btn-default btn-select-file">Select File</button>
			</div>

			<div class="form-group">
				<label>Select File</label>
				<input type="text" class="form-group" />
				<button class="btn btn-default btn-select-file">Select File</button>
			</div>
		</div>


		<!-- Bootstrap core JavaScript
		================================================== -->
		<!-- Placed at the end of the document so the pages load faster -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script>window.jQuery || document.write('<script src="../../bower_components/bootstrap/assets/js/vendor/jquery.min.js"><\/script>')</script>
		<script src="../../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
		<script>

		var $btn_select_file;
		var result = '';

		jQuery(document).ready(function($){


			// $('.btn-select-file').on('click', function(){
			// 	// $btn_select_file = $(this);
			// 	// window.open('elfinder-2.1.29/elfinder.html','Select Files',' scrollbars=yes,menubar=no,width=500,resizable=yes,toolbar=no,location=no,status=no');
			// })

			$('.btn-select-file').on("click", function(){
				$btn_select_file = $(this);
			    if($("iframe.elfinder").length){
			        if(!$("iframe.elfinder").is(":visible")){
			          $("iframe.elfinder").show();
			        }
			    }
			    else{
			        $("<iframe src='elfinder-2.1.29/elfinder.html' width='100%' class='elfinder' />").appendTo("body"); // use CSS to make look like a proper modal
			    }
			});
		});

		window.applyLinkCallback = function(files){
			result = '';
			files.forEach(function(item){
				result = result + item.file_name + ', ';
			});

			$btn_select_file.siblings('input').val(result);
		}

			
		</script>
	</body>
</html>